<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student List</title>
</head>
<body>
    <h2 style="text-align: center;">Student Management System</h2>
    <div style="width: 70%; margin: auto;">
        {% if error %}
        <p style="color: red;">{{ error }}</p>
        {% endif %}
        
        <h3>Add Student</h3>
        <form action="" method="post">
            {% csrf_token %}
            <input type="text" name="name" placeholder="Name" required><br><br>
            <input type="text" name="email" placeholder="Email" required><br><br>
            <input type="text" name="course" placeholder="Course" required><br><br>
            <input type="text" name="age" placeholder="Age" required><br><br>
            <button type="submit">Add Student</button>
        </form>

        <hr>

        <table border="1" rules="all" cellpadding="10" width="100%">
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Course</th>
                <th>Age</th>
            </tr>

            {% for student in students %}
            <tr>
                <td>{{ student.name }}</td>
                <td>{{ student.email }}</td>
                <td>{{ student.course }}</td>
                <td>{{ student.age }}</td>
                <td>
                    <a href="{% url 'update_student' student.id %}">Edit</a> | 
                    <a href="{% url 'delete_student' student.id %}">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
</body>
</html>